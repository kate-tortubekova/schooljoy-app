<div class="badges-panel">
    <ul class="nav nav-tabs custom-tabs">
        <li class="nav-item">
            <a class="nav-link" [class.active]="activeTab === 'badges'" href="#"
                (click)="setActiveTab('badges', $event)">
                Badges
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" [class.active]="activeTab === 'students'" href="#"
                (click)="setActiveTab('students', $event)">
                Students
            </a>
        </li>
    </ul>

    <div class="tab-content-area">
        <div *ngIf="activeTab === 'badges'" class="tab-pane">
            <!-- Search Bar -->
            <div class="search-container mb-4">
                <div class="position-relative">
                    <i class="fas fa-search position-absolute top-50 start-0 translate-middle-y ms-3 text-muted"></i>
                    <input type="text" class="form-control ps-5 search-input" placeholder="Search badges"
                        [(ngModel)]="searchTerm">
                </div>
            </div>

            <!-- Badges Table -->
            <div class="table-container">
                <table class="table table-hover badges-table">
                    <thead>
                        <tr>
                            <th class="table-header">Badge</th>
                            <th class="table-header">Total Goals</th>
                            <th class="table-header">Completed</th>
                            <th class="table-header">In Progress</th>
                            <th class="table-header">Not Started</th>
                            <th class="table-header">Completion Rate</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let badge of filteredBadges">
                            <td>
                                <div class="d-flex align-items-center">
                                    <div class="badge-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <g clip-path="url(#clip0_170_35)">
                                            <path
                                                d="M0.666664 11.3334L6 6.66669L16.6667 7.33335L17.3333 18L12.6667 23.3334C12.6667 23.3334 12.6673 19.334 8.66667 15.3334C4.666 11.3327 0.666664 11.3334 0.666664 11.3334Z"
                                                fill="#A0041E" />
                                            <path
                                                d="M0.648611 23.3333C0.648611 23.3333 0.624611 18.0139 2.63861 15.9999C4.65261 13.9859 9.99994 14.1246 9.99994 14.1246C9.99994 14.1246 9.99928 19.3333 7.99928 21.3333C5.99928 23.3333 0.648611 23.3333 0.648611 23.3333Z"
                                                fill="#FFAC33" />
                                            <path
                                                d="M5.99935 20.6666C7.47211 20.6666 8.66601 19.4727 8.66601 18C8.66601 16.5272 7.47211 15.3333 5.99935 15.3333C4.52659 15.3333 3.33268 16.5272 3.33268 18C3.33268 19.4727 4.52659 20.6666 5.99935 20.6666Z"
                                                fill="#FFCC4D" />
                                            <path
                                                d="M23.9993 0C23.9993 0 17.3326 0 9.33259 6.66667C5.33259 10 5.33259 16 6.66593 17.3333C7.99926 18.6667 13.9993 18.6667 17.3326 14.6667C23.9993 6.66667 23.9993 0 23.9993 0Z"
                                                fill="#55ACEE" />
                                            <path
                                                d="M17.9993 3.33331C16.9173 3.33331 15.9906 3.98065 15.5719 4.90665C15.9066 4.75531 16.2753 4.66665 16.6659 4.66665C18.1386 4.66665 19.3326 5.86065 19.3326 7.33331C19.3326 7.72398 19.2439 8.09265 19.0933 8.42665C20.0193 8.00865 20.6659 7.08198 20.6659 5.99998C20.6659 4.52731 19.4719 3.33331 17.9993 3.33331Z"
                                                fill="black" />
                                            <path
                                                d="M5.33334 18.6666C5.33334 18.6666 5.33334 16 6 15.3333C6.66667 14.6666 14.6673 8.00064 15.3333 8.66664C15.9993 9.33264 9.33267 17.3333 8.666 18C7.99934 18.6666 5.33334 18.6666 5.33334 18.6666Z"
                                                fill="#A0041E" />
                                        </g>
                                        <defs>
                                            <clipPath id="clip0_170_35">
                                                <rect width="24" height="24" fill="white" />
                                            </clipPath>
                                        </defs>
                                    </svg>
                                </div>
                                    <span class="badge-title">{{ badge.title }}</span>
                                </div>
                            </td>
                            <td class="table-content">{{ badge.totalGoals }}</td>
                            <td class="table-content">{{ badge.completed }}</td>
                            <td class="table-content">{{ badge.inProgress }}</td>
                            <td class="table-content">{{ badge.notStarted }}</td>
                            <td>
                                <div class="completion-cell">
                                    <div class="progress-container">
                                        <div class="progress">
                                            <div class="progress-bar" [style.width.%]="badge.completionRate">
                                            </div>
                                        </div>
                                    </div>
                                    <span class="completion-text">{{ badge.completionRate }}%</span>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div *ngIf="activeTab === 'students'" class="tab-pane">
            <div class="text-center py-5">
                <h5 class="mb-3">Students Content</h5>
                <p class="text-muted">This is where students information will be displayed.</p>
            </div>
        </div>
    </div>
</div>